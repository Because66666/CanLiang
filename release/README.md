# 参量质变仪：BetterGI日志分析工具

## 项目介绍

参量质变仪：BetterGI日志分析工具 是一个用于分析BetterGI（Better Genshin Impact）日志文件的应用程序。该工具提供了直观的Web界面，帮助用户查看和分析BetterGI生成的日志信息，特别是关于游戏中交互和拾取物品的统计数据。

### 主要功能

- 自动检测BetterGI安装路径
- 分析BetterGI日志文件中的各类型事件
- 统计交互或拾取物品的出现次数
- 提供REST API接口进行日志分析
- 通过Web界面直观展示分析结果

### EXE可执行文件的使用方法
1. 直接启动，会自动检测BetterGI安装路径。
2. 使用`--bgi_path=xxx`或`-bgi xxx`参数指定BetterGI安装路径。
3. 使用`--port=xxx`或`-port xxx`参数指定Web服务端口（默认3000）。
4. 使用`--do_not_open_website`或`-no`参数禁用自动打开浏览器。
5. 使用`--help`或者`-h`参数查看帮助信息。
举例：
```
.\Canliang.exe --bgi_path=D:\BetterGI --port=8080 --do_not_open_website
```

### 界面截图

<img src="https://github.com/user-attachments/assets/f0faf0bb-8b73-4db4-b106-9cb12dc0443c" alt="示例图片" width="100%">

## 系统要求

- Python 3.6+


## API接口

### 获取日志列表

```
GET /api/LogList
```

返回所有可分析的日志文件列表。
参考响应：
```JSON
{
  "list": [
    "20250504",
    "20250503",
    "20250218"
  ]
}
```
约定：日期为从现在到以前日期排序。靠近现在的日期在列表中靠前。

### 获取日志数据

```
GET /api/LogData
```

返回所有日志的原始数据，包括持续时间和物品信息，供前端进行分析和展示。

参考响应：
```JSON
{
  "duration": {
    "日期": ["20250504", "20250503", "20250218"],
    "持续时间": [330, 420, 180]
  },
  "item": {
    "物品名称": ["兽肉", "冰晶蝶", "污秽的面具", "沉重号角"],
    "时间": ["04:10:02.395", "04:15:30.123", "05:20:15.678", "06:30:45.234"],
    "日期": ["20250504", "20250504", "20250503", "20250503"]
  }
}
```

说明：
- `duration`: 包含每日的运行持续时间数据（单位：分钟）
- `item`: 包含所有拾取物品的详细记录，包括物品名称、拾取时间和日期
- 前端可以基于这些原始数据进行各种统计分析和可视化展示

## 使用方法

1. 启动应用后，通过浏览器访问 http://localhost:3000
2. 在Web界面上选择要分析的日志日期
3. 查看分析结果，包括交互物品的统计信息

## 故障排除

- 如果无法自动检测BetterGI安装路径，请使用命令行参数`--bgi_path`或`-bgi`指定路径
- 确保已安装Python
- 检查防火墙设置，确保允许本地端口3000的访问
- 如需更改端口，可使用命令行参数`--port`指定

## 开发者信息

作者: Because66666
版本: 1.1.3

## 许可证

本项目遵循Apache-2.0 License许可证。
